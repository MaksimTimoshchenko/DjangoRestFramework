(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{54:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),c=a(2),r=a(3),o=a(5),i=a(4),l=a(7),d=a.n(l),j=a(22),h=(a(54),a(32)),u=a(6),b=a(0),p=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={},n}return Object(r.a)(a,[{key:"render",value:function(){return Object(b.jsx)("section",{className:"TODOListHomePage container",children:Object(b.jsx)("h1",{children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"})})}}]),a}(n.Component),m=function(e){var t=e.user;return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:t.email}),Object(b.jsx)("td",{children:t.username}),Object(b.jsx)("td",{children:t.firstname}),Object(b.jsx)("td",{children:t.lastname})]})},O=function(e){var t=e.users;return Object(b.jsxs)("table",{className:"table",children:[Object(b.jsx)("thead",{className:"table-dark",children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"col",children:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441"}),Object(b.jsx)("th",{scope:"col",children:"Username"}),Object(b.jsx)("th",{scope:"col",children:"\u0418\u043c\u044f"}),Object(b.jsx)("th",{scope:"col",children:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"})]})}),Object(b.jsx)("tbody",{children:t.map((function(e){return Object(b.jsx)(m,{user:e},"user".concat(e.username))}))})]})},x=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={users:[]},n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.headers;d.a.get("http://127.0.0.1:8080/api/users/",{headers:t}).then((function(t){var a=t.data.results;e.setState({users:a})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return Object(b.jsxs)("section",{className:"TODOListUsersPage container",children:[Object(b.jsx)("h1",{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"}),Object(b.jsx)(O,{users:this.state.users})]})}}]),a}(n.Component),f=a(12),v=void 0,g=function(e){var t=e.project,a=e.delete_project;return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)(f.b,{to:"project/".concat(t.id),children:t.name})}),Object(b.jsx)("td",{children:t.repositoryUrl}),Object(b.jsxs)("td",{children:[Object(b.jsx)("button",{type:"button","data-bs-toggle":"modal","data-bs-backdrop":"false","data-bs-target":"#exampleModalCenterDeletion".concat(t.id),className:"btn btn-danger",children:"Delete"}),Object(b.jsx)("div",{className:"modal fade",id:"exampleModalCenterDeletion".concat(t.id),tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","data-bs-backdrop":"false",children:Object(b.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(b.jsx)("div",{className:"modal-content",children:Object(b.jsxs)("form",{onSubmit:function(e){return v.handleSubmit(e)},children:[Object(b.jsxs)("div",{className:"modal-header",children:[Object(b.jsxs)("h5",{className:"modal-title",id:"exampleModalCenterTitle",children:["Confirm delete project \xab",t.name,"\xbb\u200e"]}),Object(b.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(b.jsxs)("div",{className:"modal-body",children:[Object(b.jsx)("p",{children:"You are about to delete project, this procedure is irreversible."}),Object(b.jsx)("p",{children:"Are you sure you want to proceed?"})]}),Object(b.jsxs)("div",{className:"modal-footer",children:[Object(b.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cancel"}),Object(b.jsx)("button",{type:"button",className:"btn btn-danger","data-bs-dismiss":"modal",onClick:function(){return a(t.id)},children:"Confirm delete"})]})]})})})})]})]})},y=function(e){var t=e.projects,a=e.delete_project;return Object(b.jsxs)("table",{className:"table",children:[Object(b.jsx)("thead",{className:"table-dark",children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"col",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430"}),Object(b.jsx)("th",{scope:"col",children:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439"}),Object(b.jsx)("th",{scope:"col"})]})}),Object(b.jsx)("tbody",{children:t.map((function(e){return Object(b.jsx)(g,{project:e,delete_project:a},"project".concat(e.id))}))})]})},N=function(e){var t=e.project;return Object(b.jsx)("div",{children:t.name})},k=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={projects:[],search_string:""},n}return Object(r.a)(a,[{key:"delete_project",value:function(e){var t=this,a=this.props.headers;d.a.delete("http://127.0.0.1:8080/api/projects/".concat(e,"/"),{headers:a}).then((function(a){t.setState({projects:t.state.projects.filter((function(t){return t.id!==e}))})})).catch((function(e){console.log(e)}))}},{key:"create_project",value:function(e,t){var a=this;d.a.post("http://127.0.0.1:8080/api/projects/",{name:e,repository_url:t}).then((function(e){a.fetch_projects()})).catch((function(e){return console.log("Wrong password")}))}},{key:"fetch_projects",value:function(){var e=this,t=this.props.headers;d.a.get("http://127.0.0.1/api/projects/",{headers:t}).then((function(t){var a=t.data.results;e.setState({projects:a})})).catch((function(e){return console.log(e)}))}},{key:"handleSearchInputChange",value:function(e){this.setState({search_string:e.target.value})}},{key:"handleSubmitSearchProjects",value:function(e){var t=this;e.preventDefault();var a=this.props.headers;d.a.get("http://127.0.0.1:8080/api/projects/?name="+this.state.search_string,{headers:a}).then((function(e){t.setState({projects:e.data.results})})).catch((function(e){return console.log(e)}))}},{key:"componentDidMount",value:function(){this.fetch_projects()}},{key:"render",value:function(){var e=this;return Object(b.jsxs)("section",{className:"TODOListProjectsPage container",children:[Object(b.jsx)("h1",{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432"}),Object(b.jsxs)("form",{onSubmit:function(t){return e.handleSubmitSearchProjects(t)},className:"d-flex mb-3",children:[Object(b.jsx)("input",{className:"form-control me-2",type:"search",placeholder:"Search","aria-label":"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430\u043c",onChange:function(t){return e.handleSearchInputChange(t)}}),Object(b.jsx)("button",{className:"btn btn-outline-success",type:"submit",children:"Search"})]}),Object(b.jsx)(y,{projects:this.state.projects,delete_project:function(t){return e.delete_project(t)}})]})}}]),a}(n.Component),C=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={project:{}},n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.headers;d.a.get("http://127.0.0.1/api/projects/"+this.props.match.params.id+"/",{headers:t}).then((function(t){var a=t.data;e.setState({project:a})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return Object(b.jsxs)("section",{className:"TODOListProjectPage container",children:[Object(b.jsxs)("h1",{children:["\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0430: ",this.state.project.name]}),Object(b.jsx)(N,{project:this.state.project})]})}}]),a}(n.Component),_=function(e){var t=e.todo,a=new Date(t.createdAt).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"});return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:t.text}),Object(b.jsx)("td",{children:t.project.name}),Object(b.jsx)("td",{children:t.creatorUser.username}),Object(b.jsx)("td",{children:a})]})},w=function(e){var t=e.todos;return Object(b.jsxs)("table",{className:"table",children:[Object(b.jsx)("thead",{className:"table-dark",children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"col",children:"\u0422\u0435\u043a\u0441\u0442 ToDo"}),Object(b.jsx)("th",{scope:"col",children:"\u041f\u0440\u043e\u0435\u043a\u0442"}),Object(b.jsx)("th",{scope:"col",children:"\u041d\u0438\u043a\u043d\u0435\u0439\u043c \u0430\u0432\u0442\u043e\u0440\u0430"}),Object(b.jsx)("th",{scope:"col",children:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f"})]})}),Object(b.jsx)("tbody",{children:t.map((function(e){return Object(b.jsx)(_,{todo:e},"todo".concat(e.id))}))})]})},S=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={todos:[]},n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.headers;d.a.get("http://127.0.0.1/api/todos/",{headers:t}).then((function(t){var a=t.data.results;e.setState({todos:a})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return Object(b.jsxs)("section",{className:"TODOListToDosPage container",children:[Object(b.jsx)("h1",{children:"\u0421\u043f\u0438\u0441\u043e\u043a ToDo"}),Object(b.jsx)(w,{todos:this.state.todos})]})}}]),a}(n.Component),D=a(14),T=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={name:"",repository_url:"",form_users:[],users:[]},n}return Object(r.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(D.a)({},e.target.name,e.target.value))}},{key:"handleChangeUsers",value:function(e){if(e.target.selectedOptions){for(var t=[],a=0;a<e.target.selectedOptions.length;a++)t.push(e.target.selectedOptions.item(a).value);this.setState({users:t})}}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.props.headers;d.a.post("http://127.0.0.1:8080/api/projects/",{name:this.state.name,repository_url:this.state.repository_url,users:this.state.users},{headers:t}).then((function(e){window.location.href="/projects"})).catch((function(e){return console.log(e)}))}},{key:"componentDidMount",value:function(){var e=this,t=this.props.headers;d.a.get("http://127.0.0.1:8080/api/users/",{headers:t}).then((function(t){var a=t.data.results;e.setState({form_users:a})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(b.jsxs)("section",{className:"TODOListProjectsCreatePage container",children:[Object(b.jsx)("h1",{children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430"}),Object(b.jsxs)("form",{onSubmit:function(t){return e.handleSubmit(t)},children:[Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{htmlFor:"exampleInputProjectName",className:"form-label",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430"}),Object(b.jsx)("input",{type:"text",class:"form-control",id:"exampleInputProjectName",name:"name",onChange:function(t){return e.handleChange(t)}})]}),Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{htmlFor:"exampleInputProjectRepoUrl",className:"form-label",children:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439 \u043f\u0440\u043e\u0435\u043a\u0442\u0430"}),Object(b.jsx)("input",{type:"text",class:"form-control",id:"exampleInputProjectRepoUrl",name:"repository_url",onChange:function(t){return e.handleChange(t)}})]}),Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{htmlFor:"exampleInputProjectUsers",className:"form-label",children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"}),Object(b.jsx)("select",{className:"form-select",id:"exampleInputProjectUsers",multiple:!0,"aria-label":"multiple select example",name:"users",onChange:function(t){return e.handleChangeUsers(t)},children:this.state.form_users.map((function(e){return Object(b.jsx)("option",{value:e.id,children:e.username})}))})]}),Object(b.jsx)("button",{type:"submit",class:"btn btn-primary",children:"Create"})]})]})}}]),a}(n.Component),I=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={text:"",status:1,project:"",form_projects:[]},n}return Object(r.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(D.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.props.headers;d.a.post("http://127.0.0.1:8080/api/todos/",{text:this.state.text,status:this.state.status,project:this.state.project,creator_user:this.props.authenticatedUserId},{headers:t}).then((function(e){window.location.href="/todos"})).catch((function(e){return console.log(e)}))}},{key:"componentDidMount",value:function(){var e=this,t=this.props.headers;d.a.get("http://127.0.0.1:8080/api/projects/",{headers:t}).then((function(t){var a=t.data.results;e.setState({form_projects:a})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(b.jsxs)("section",{className:"TODOListToDoCreatePage container",children:[Object(b.jsx)("h1",{children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f ToDo"}),Object(b.jsxs)("form",{onSubmit:function(t){return e.handleSubmit(t)},children:[Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{htmlFor:"exampleInputToDoText",className:"form-label",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 ToDo"}),Object(b.jsx)("input",{type:"text",class:"form-control",id:"exampleInputToDoText",name:"text",onChange:function(t){return e.handleChange(t)}})]}),Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{htmlFor:"exampleInputToDoStatus",className:"form-label",children:"\u0421\u0442\u0430\u0442\u0443\u0441 ToDo"}),Object(b.jsxs)("select",{className:"form-select",id:"exampleInputToDoStatus","aria-label":"select example",name:"status",onChange:function(t){return e.handleChange(t)},children:[Object(b.jsx)("option",{selected:!0,value:"1",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439"}),Object(b.jsx)("option",{value:"0",children:"\u041d\u0435\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0439"})]})]}),Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{htmlFor:"exampleInputProjects",className:"form-label",children:"\u041f\u0440\u043e\u0435\u043a\u0442\u044b"}),Object(b.jsx)("select",{className:"form-select",id:"exampleInputProjects","aria-label":"select example",name:"project",onChange:function(t){return e.handleChange(t)},children:this.state.form_projects.map((function(e){return Object(b.jsx)("option",{value:e.id,children:e.name})}))})]}),Object(b.jsx)("button",{type:"submit",class:"btn btn-primary",children:"Create"})]})]})}}]),a}(n.Component),P=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={},n}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.props.get_headers();return Object(b.jsx)("main",{className:"mb-5",children:Object(b.jsxs)(u.c,{children:[Object(b.jsx)(u.a,{exact:!0,path:"/",component:p}),Object(b.jsx)(u.a,{exact:!0,path:"/users/",component:function(e){return Object(b.jsx)(x,{headers:t})}}),Object(b.jsx)(u.a,{exact:!0,path:"/projects/",component:function(e){return Object(b.jsx)(k,{headers:t})}}),Object(b.jsx)(u.a,{exact:!0,path:"/projects/create",component:function(){return Object(b.jsx)(T,{headers:t})}}),Object(b.jsx)(u.a,{exact:!0,path:"/project/:id",component:function(e){return Object(b.jsx)(C,Object(h.a)({headers:t},e))}}),Object(b.jsx)(u.a,{exact:!0,path:"/todos/",component:function(e){return Object(b.jsx)(S,{headers:t})}}),Object(b.jsx)(u.a,{exact:!0,path:"/todos/create",component:function(){return Object(b.jsx)(I,{headers:t,authenticatedUserId:e.props.authenticatedUserId})}})]})})}}]),a}(n.Component),U=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e,t=this;return e=this.props.isAuthenticated?Object(b.jsxs)("div",{className:"dropdown float-end",children:[Object(b.jsx)("a",{className:"btn btn-secondary dropdown-toggle",href:"#",role:"button",id:"dropdownMenuLink","data-bs-toggle":"dropdown","aria-expanded":"false",children:this.props.authenticatedUsername}),Object(b.jsx)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuLink",children:Object(b.jsx)("li",{children:Object(b.jsx)("a",{className:"dropdown-item",href:"#",onClick:function(){return t.props.logout()},children:"Log Out"})})})]}):Object(b.jsx)("button",{type:"button",className:"btn btn-primary float-end","data-bs-toggle":"modal","data-bs-backdrop":"false","data-bs-target":"#exampleModalCenter",children:"Sing In"}),Object(b.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)(f.b,{className:"navbar-brand",to:"/",children:"TODO List App"}),Object(b.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(b.jsx)("span",{className:"navbar-toggler-icon"})}),Object(b.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(b.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(f.b,{className:"nav-link",to:"/users",children:"Users"})}),Object(b.jsxs)("li",{className:"nav-item dropdown",children:[Object(b.jsx)("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Projects"}),Object(b.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(b.jsx)("li",{children:Object(b.jsx)(f.b,{className:"dropdown-item",to:"/projects",children:"Projects list"})}),Object(b.jsx)("li",{children:Object(b.jsx)("hr",{className:"dropdown-divider"})}),Object(b.jsx)("li",{children:Object(b.jsx)(f.b,{className:"dropdown-item",to:"/projects/create",children:"Project create"})})]})]}),Object(b.jsxs)("li",{className:"nav-item dropdown",children:[Object(b.jsx)("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"ToDos"}),Object(b.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(b.jsx)("li",{children:Object(b.jsx)(f.b,{className:"dropdown-item",to:"/todos",children:"ToDos list"})}),Object(b.jsx)("li",{children:Object(b.jsx)("hr",{className:"dropdown-divider"})}),Object(b.jsx)("li",{children:Object(b.jsx)(f.b,{className:"dropdown-item",to:"/todos/create",children:"ToDo create"})})]})]})]})}),e]})})}}]),a}(s.a.Component),M=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={email:"",password:""},n}return Object(r.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(D.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.get_token(this.state.email,this.state.password)}},{key:"render",value:function(){var e=this;return this.props.isAuthenticated?"":Object(b.jsx)("div",{className:"modal fade",id:"exampleModalCenter",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","data-bs-backdrop":"false",children:Object(b.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(b.jsx)("div",{className:"modal-content",children:Object(b.jsxs)("form",{onSubmit:function(t){return e.handleSubmit(t)},children:[Object(b.jsxs)("div",{className:"modal-header",children:[Object(b.jsx)("h5",{className:"modal-title",id:"exampleModalCenterTitle",children:"Sing In Form"}),Object(b.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(b.jsxs)("div",{className:"modal-body",children:[Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{htmlFor:"formControlInputEmail",className:"form-label",children:"Email address"}),Object(b.jsx)("input",{type:"email",name:"email",className:"form-control",id:"formControlInputEmail",placeholder:"name@example.com",onChange:function(t){return e.handleChange(t)}})]}),Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{htmlFor:"formControlInputPassword",className:"form-label",children:"Password"}),Object(b.jsx)("input",{type:"password",name:"password",className:"form-control",id:"formControlInputPassword",placeholder:"",onChange:function(t){return e.handleChange(t)}})]})]}),Object(b.jsxs)("div",{className:"modal-footer",children:[Object(b.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(b.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Save changes"})]})]})})})})}}]),a}(n.Component),A=function(){return Object(b.jsxs)("footer",{className:"bg-dark text-center text-white fixed-botom mt-auto",children:[Object(b.jsx)("div",{className:"container p-4",children:Object(b.jsx)("section",{children:Object(b.jsx)("p",{className:"mb-0",children:"Project was created as part of the GeekBrains course"})})}),Object(b.jsxs)("div",{className:"text-center p-3",style:{backgroundColor:"rgba(0, 0, 0, 0.2)"},children:["\xa9 2021 Developed by:\xa0",Object(b.jsx)("a",{className:"text-white",target:"_blank",href:"https://github.com/MaksymTymoshchenko/GeekBrains",children:"Maksym Tymoshchenko"})]})]})},L=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={isAuthenticated:!1,authenticatedUsername:"",authenticatedUserId:"",token:""},n}return Object(r.a)(a,[{key:"get_token",value:function(e,t){var a=this;d.a.post("http://127.0.0.1:8080/api/token/",{email:e,password:t}).then((function(e){a.set_token(e.data.access)})).catch((function(e){return alert("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c")}))}},{key:"set_token",value:function(e){(new j.a).set("token",e),this.setState({token:e},(function(){this.is_authenticated()}))}},{key:"logout",value:function(){this.set_token("")}},{key:"get_token_from_cookies",value:function(){var e=(new j.a).get("token");"undefined"!=typeof e&&this.setState((function(){return{token:e}}),(function(){this.is_authenticated()}))}},{key:"is_authenticated",value:function(){this.setState({isAuthenticated:""!==this.state.token})}},{key:"get_headers",value:function(){var e={"Content-Type":"application/json"};return this.state.token&&(e.Authorization="Bearer "+this.state.token),e}},{key:"componentDidMount",value:function(){this.get_token_from_cookies()}},{key:"componentDidUpdate",value:function(e,t){this.state.isAuthenticated!==t.isAuthenticated&&this.get_authenticated_user()}},{key:"get_authenticated_user",value:function(){var e=this;if(!this.state.isAuthenticated||!this.state.token)return[];var t=this.get_headers();d.a.get("http://127.0.0.1:8080/api/users/me/",{headers:t}).then((function(t){e.set_authenticated_user(t.data)})).catch((function(t){return e.logout()}))}},{key:"set_authenticated_user",value:function(e){this.setState({authenticatedUsername:e.username,authenticatedUserId:e.id})}},{key:"render",value:function(){var e=this;return Object(b.jsxs)("section",{className:"d-flex flex-column min-vh-100",children:[Object(b.jsx)(U,{isAuthenticated:this.state.isAuthenticated,authenticatedUsername:this.state.authenticatedUsername,logout:function(t){return e.logout()}}),Object(b.jsx)(M,{isAuthenticated:this.state.isAuthenticated,get_token:function(t,a){return e.get_token(t,a)}}),Object(b.jsx)(P,{token:this.state.token,authenticatedUserId:this.state.authenticatedUserId,get_headers:function(){return e.get_headers()}}),Object(b.jsx)(A,{})]})}}]),a}(s.a.Component),F=a(34),B=document.getElementById("TODOListRoot");Object(F.render)(Object(b.jsx)(f.a,{children:Object(b.jsx)(L,{})}),B)}},[[64,1,2]]]);
//# sourceMappingURL=main.094760c7.chunk.js.map